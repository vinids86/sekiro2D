[gd_scene load_steps=11 format=3 uid="uid://raw8okub6mh6"]

[ext_resource type="Script" uid="uid://dcgawgj5mqx13" path="res://scenes/main.gd" id="1_85g3d"]
[ext_resource type="Texture2D" uid="uid://dmk4vk4a0c4ga" path="res://assets/terrace.png" id="1_ya4ey"]
[ext_resource type="PackedScene" uid="uid://5aqapyppbkdg" path="res://scenes/player.tscn" id="2_sugp2"]
[ext_resource type="AudioStream" uid="uid://b46tjiqtj8apf" path="res://audio/Shadows of the Rising Sun.wav" id="3_choun"]
[ext_resource type="Texture2D" uid="uid://cmpxu72ks47x3" path="res://assets/under_stamina.png" id="4_tefeu"]
[ext_resource type="Texture2D" uid="uid://cwv3m6q2qjgf1" path="res://assets/progress_stamina.png" id="5_o6xl0"]
[ext_resource type="Script" uid="uid://beipphnaamrl4" path="res://scripts/ui/hud.gd" id="6_choun"]
[ext_resource type="Texture2D" uid="uid://benh8p7wolbhf" path="res://assets/health_bar_progress.png" id="7_tipki"]
[ext_resource type="Script" uid="uid://bji2s1rkpwwaj" path="res://scripts/hub/combat_event_hub.gd" id="8_tipki"]
[ext_resource type="PackedScene" uid="uid://bd2t2qkjkliam" path="res://scenes/enemy.tscn" id="9_85g3d"]

[node name="Main" type="Node2D"]
script = ExtResource("1_85g3d")

[node name="Background" type="Sprite2D" parent="."]
z_index = -1
scale = Vector2(0.5, 0.497685)
texture = ExtResource("1_ya4ey")
centered = false
region_rect = Rect2(0, 0, 1152, 648)

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_choun")
autoplay = true

[node name="Player" parent="." node_paths=PackedStringArray("hub") instance=ExtResource("2_sugp2")]
position = Vector2(925, 594)
scale = Vector2(0.7, 0.7)
hub = NodePath("../CombatEventHub")

[node name="Enemy" parent="." node_paths=PackedStringArray("hub") instance=ExtResource("9_85g3d")]
position = Vector2(1035, 594)
scale = Vector2(0.7, 0.7)
hub = NodePath("../CombatEventHub")

[node name="HUD" type="CanvasLayer" parent="."]
script = ExtResource("6_choun")
player_path = NodePath("../Player")
enemy_path = NodePath("../Enemy")
player_stamina_bar_path = NodePath("PlayerPanel/StaminaBar_Player")
player_health_bar_path = NodePath("PlayerPanel/HealthBar_Player")
enemy_stamina_bar_path = NodePath("EnemyPanel/StaminaBar_Enemy")
enemy_health_bar_path = NodePath("EnemyPanel/HealthBar_Enemy")

[node name="PlayerPanel" type="Control" parent="HUD"]
layout_mode = 3
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 0

[node name="StaminaBar_Player" type="TextureProgressBar" parent="HUD/PlayerPanel"]
layout_mode = 0
offset_left = -199.0
offset_top = -96.0
offset_right = 205.0
offset_bottom = -64.0
max_value = 1.0
step = 0.0
texture_under = ExtResource("4_tefeu")
texture_progress = ExtResource("5_o6xl0")

[node name="HealthBar_Player" type="TextureProgressBar" parent="HUD/PlayerPanel"]
layout_mode = 0
offset_left = -201.0
offset_top = -144.0
offset_right = 203.0
offset_bottom = -112.0
max_value = 1.0
step = 0.0
texture_under = ExtResource("4_tefeu")
texture_progress = ExtResource("7_tipki")

[node name="EnemyPanel" type="Control" parent="HUD"]
layout_mode = 3
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
grow_horizontal = 2

[node name="StaminaBar_Enemy" type="TextureProgressBar" parent="HUD/EnemyPanel"]
layout_mode = 0
offset_left = -186.0
offset_top = 105.0
offset_right = 218.0
offset_bottom = 137.0
max_value = 1.0
step = 0.0
texture_under = ExtResource("4_tefeu")
texture_progress = ExtResource("5_o6xl0")

[node name="HealthBar_Enemy" type="TextureProgressBar" parent="HUD/EnemyPanel"]
layout_mode = 0
offset_left = -197.0
offset_top = 60.0
offset_right = 207.0
offset_bottom = 92.0
max_value = 1.0
step = 0.0
texture_under = ExtResource("4_tefeu")
texture_progress = ExtResource("7_tipki")

[node name="Camera2D" type="Camera2D" parent="." groups=["main_camera"]]
position = Vector2(960, 542)

[node name="CombatEventHub" type="Node" parent="."]
script = ExtResource("8_tipki")
metadata/_custom_type_script = "uid://bji2s1rkpwwaj"
